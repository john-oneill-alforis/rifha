import plotly.graph_objects as go
import numpy as np

simulated_inherent_losses = [6377.182767165153, 14473.888329925974, 5771.069818195638, 9189.204004938656, 6898.279371354907, 8577.995376720017, 6049.906701781249, 21177.819791871996, 3810.969498737863, 6548.235712720924, 8692.580798896402, 11965.403406058791, 6808.124098407844, 5999.733507751283, 5688.881207111137, 11181.811074428033, 9065.201649345609, 7575.878200437288, 4390.151335452159, 6951.651009900953, 11567.22824322134, 12130.772202801656, 13971.700181583834, 4187.963610556885, 7058.950206039122, 12528.163036184596, 9129.156736105737, 8501.57031776569, 8083.3228957187675, 6278.013507621113, 19197.99989265561]
simulated_residual_losses = [2797.0718297147273, 2460.365006796196, 2867.385532831293, 2682.987289320681, 3775.080428030349, 2331.5881732869902, 2018.1946839313011, 3083.953372874288, 2510.212003044847, 3618.0556379668824, 4650.740012922509, 3589.7242442780366, 2118.4821038865116, 2610.280250010024, 3360.37449575189, 2931.618454642109, 2327.1081492251355, 2185.7148747693395, 1589.3257749908532, 3305.2283098199355, 2398.124449426735, 2301.788957541976, 2631.6194329791897, 3945.5689518658887, 4081.254915209239, 4177.6818355764035, 2952.870108970376, 1678.6670796139374, 2174.7163971381165, 2649.932916191624, 2079.307049980796, 4382.198417604503, 2784.70867211744, 2914.5356947696323, 2933.4044836756207, 1632.1291626602988, 2472.4559804466567, 2032.8469836622726, 1337.5875645965095, 2291.6149878972456, 4203.1930282099165, 1184.832744914805, 3143.3678251938245, 2018.8970118229784, 2629.647827487554, 3228.9379380350024, 3739.9057795237222, 1876.4840924594746, 2197.0111147932944, 2769.4759261521067, 3018.9932405617164, 3393.3645910169976, 2306.3387208868303, 2353.7568852123472, 1852.744481537904, 4000.6386010867213, 2925.037466586888, 3115.982875834011, 1664.1442973646324, 1466.62090338193, 3144.5398513460455, 2677.7410779074376, 3910.925837816378, 2069.835105739358, 3301.7287616028407, 3512.7569865477076, 4517.987046585224, 1675.8695173846027, 1849.3156108880357, 2939.2031636247557, 2918.2748365293037, 2217.18829100203, 2688.095581929373, 4683.032146472754, 3337.44987701134, 4533.030379656934, 1326.3868446505596, 1607.8606954964653, 2826.1748429297986, 5079.452742789955, 3428.0011262030653, 4110.319472318846, 2048.159636302024, 5546.772757295356, 2061.274419645848, 2243.2977414818115, 2538.9315725087163, 4699.708687220947, 2984.7460287277213, 2893.9061305200203, 3112.9278349274864, 3653.3181350984373, 2352.844374291814, 1689.804611190351, 7024.702092481156, 2640.48442351223, 2708.119061499973, 1576.6502187326937, 2401.144794440024, 2698.330184882015, 1945.3643088256954, 2331.8299428618357, 1991.196190519946, 5773.131187709486, 2446.2010431236877, 10028.828227454022, 2286.698538034031, 2706.2769402055824, 1845.542173229502, 1909.726089194191, 3105.643996574095, 2983.284325896089, 5479.354163953631, 2923.287844925827, 5674.76254611938, 4493.407365188089, 1727.0262388665249, 1565.6003001518657, 3070.206309234497, 1807.781756591703, 1865.7908293155258, 4196.57259017074, 3456.5537384971512, 2533.587884137701, 2061.3133577098924, 4277.188570076858, 1261.6180055946948, 2193.0101042693445, 2603.612091567856, 6393.911829748779, 3605.5980450996854, 3809.1891036587895, 2600.8389772054534, 2717.9554883269934, 4321.044653864968, 2124.5231582417696, 2391.0235369301045, 2505.453434821451, 4924.309208903763, 1979.2429543097783, 2576.089227667178, 2345.071621544925, 4489.950808686426, 1921.5103934581975, 4229.846722709407, 3337.0681504174163, 2455.056520732381, 3991.293002668462, 4058.0367941752415, 1420.7241925758742, 2199.0150317755138, 2888.635123274739, 4165.4196065823435, 2766.1328711950964, 4614.065986257162, 1270.5898589020906, 5031.86696891851, 2798.254353550148, 2754.603452427271, 2513.8848586739978, 2236.1701969472897, 2602.9760539724884, 4143.460627652892, 1216.306583585887, 1939.8708136703676, 3994.9978298179317, 2124.9499508837453, 3385.9806257398295, 4365.571920334263, 4198.790265258617, 5822.1581642718875, 4147.1852709512295, 2409.973346988079, 2689.928770252477, 5997.051815293594, 2265.092712272623, 1633.0441250916815, 2637.0824129428606, 2031.2980550081095, 1740.128215220784, 1475.960332061554, 2628.4404022972817, 3320.2540225720745, 2348.29802828788, 2633.0366205067785, 3415.912957165095, 2381.306875397928, 4542.99122505407, 1928.4356482553653, 3411.2758788251617, 3203.6741556923953, 3373.4606015388226, 2723.117818637177, 2625.412561774059, 5005.708519376034, 3707.9611531987234, 3166.907040793025, 2826.1751553996796, 4552.66660446698, 3269.8106929016753, 5366.734447295901, 2650.037478266527, 4479.8775006527885, 2819.619255397253, 1823.3590401071938, 3980.255219844077, 1872.6171409636036, 4020.2861269055525, 2580.26830035188, 2001.1624516557679, 4403.271017497772, 2455.456955250009, 3503.6207622174484, 2690.2803880998395, 2254.357034466126, 3857.1118568166503, 2638.0521700691984, 5351.478775788123, 2305.1532495885904, 5984.110276951271, 1839.0600177025858, 1973.9916125808143, 1876.4873888307618, 3144.9818914983557, 2929.2474128026215, 2502.2414763907245, 2712.929027011849, 2397.278210254368, 3865.0553988502215, 3785.0670476397277, 1574.5912714668584, 2175.1567971146583, 4531.900362581442, 2492.3496163202753, 1631.2496934405813, 2548.496496048891, 1504.9558522532561, 5000.737365012885, 2852.6297915327923, 2896.9399632103023, 2660.94154815014, 1587.6084041824752, 4262.179416207631, 2435.361455272738, 2691.193941971509, 1392.3628985489322, 2994.4310845023397, 3697.0818281564016, 2910.4502601943873, 5069.383750312123, 3745.4148660698397, 4077.4774733822387, 3100.419405965945, 3094.6575000967537, 3568.3310078573627, 2279.816337101506, 1411.501530024973, 3417.5228972394084, 3133.002981066782, 2930.609822162513, 2334.452229012179, 2570.195943401789, 3231.685347160065, 3561.91779635678, 3386.962749924301, 2113.111613589218, 1793.9240259092053, 5857.187623077555, 3667.965020431878, 2638.8700667601533, 2113.184063635261, 1624.5024411200138, 4853.0710643461825, 2006.965825145372, 1552.844209864159, 3188.1080827876362, 3054.386057670634, 4034.6300606433183, 2067.6963978100903, 2495.503205333373, 4482.4902288790845, 4078.0662960364652, 7005.577280451926, 4002.0034412666014, 2103.9033174194215, 1764.6485630136874, 5145.628879143648, 2163.568604055712, 3152.421550246495, 2108.1795558158497, 3267.5333912680326, 3200.80729436156, 3082.138728411805, 3814.288683655318, 1843.1202372565103, 3376.978777238423, 3665.637214447485, 2256.2934359895544, 2620.295154334951, 2710.336552764806, 2351.8591153880775, 3902.719267591056, 3103.5950760257074, 1880.8619438394132, 3286.3169228844095, 1784.9405675937958, 4025.244264478186, 2869.8930595264765, 1733.09268092219, 3448.32827069045, 1723.99142165053, 3207.5723433333415, 3884.085309587347, 2577.925028595956, 3117.0067799546164, 4909.5038224273785, 2272.9795814140434, 2921.353141965355, 2264.7586738564246, 5790.397236228046, 4845.498327203465, 1962.0089301136206, 2740.2993277200935, 1992.646089839166, 1215.9224706118418, 2104.9223605052102, 2282.3425324922036, 2677.204841100652, 2410.3397751539837, 2614.126859826043, 3631.343024798456, 3284.0749738380673, 2189.0293521980957, 3332.8442209480677, 2938.4743426578725, 7022.154056973991, 1183.1296237669749, 2008.7982027278958, 3195.142489328482, 1185.997795471934, 1934.999072857602, 3264.6212485280703, 4370.074430512207, 2729.8117827370475, 3396.6111587776145, 5056.094784088577, 1064.483240416151, 4357.726772018733, 3836.8895927380386, 3005.8822204547973, 1829.0190351267047, 1458.7511030428732, 3122.856352948355, 1676.5056899820129, 2277.1571833138155, 2645.959994459633, 2555.9376940836178, 2462.3193284461204, 2194.202725393532, 1695.8117511045307, 2662.540958108342, 4679.918996606552, 1616.5412876900934, 4783.255540161643, 2853.1588832537986, 4476.94569451342, 3568.3162552831986, 3009.9719257468905, 2787.789824074118, 1942.1518263151722, 2138.2468794655147, 2787.3790936130717, 3859.7214340203277, 4355.770922703047, 2150.0115228513746, 2550.071445413609, 6155.361702179931, 4161.045959417499, 4114.895027339962, 2697.5783977138117, 2720.983115552829, 2513.96884397144, 2810.650710890474, 2286.903470785635, 2515.596176585843, 4309.172033232058, 3128.9605355570516, 3091.2696000567157, 4149.037135688978, 1813.2114085125343, 1767.1029328711488, 2026.9647273154478, 1882.310973016861, 3727.7384347793018, 3486.767541948277, 2893.834040689894, 3314.4669594100787, 3041.311308604328, 2300.185310789015, 3187.8002157813858, 4417.423021429462, 3313.9454257464267, 2751.003940076931, 1945.4366547230013, 2283.7380779426417, 2569.9406856369314, 1415.8038418232204, 2914.6320385637946, 2170.7211520522237, 2200.7304358744677, 2793.5375964060445, 2995.4556539489504, 2240.5732800734922, 2599.8689997537135, 2152.8293286937487, 3330.8332464187306, 2086.070766607884, 2002.1581949289616, 4335.136539179982, 3770.303080734628, 5035.187192806298, 2270.5934572641395, 3125.09721871645, 2166.601431884157, 2901.9058544352724, 3186.4642020332585, 2077.9306281778345, 3895.7245945644454, 3259.621725709653, 2373.6760893496607, 3092.109308690783, 3211.302198839132, 1554.2766764151272, 2642.2712040575448, 2763.533009936903, 3270.790955143682, 2848.119028751224, 2566.3250046624253, 2222.940004004213, 2073.293608600695, 2988.3772082483465, 2120.7293368180995, 3560.7664891381874, 1780.380084914701, 2352.400511084341, 3375.884381842012, 2349.015825744587, 964.9071350364023, 3353.5242636005987, 3139.901982135666, 2098.435578701336, 2222.2683400526375, 3042.4743445684658, 2262.905188151847, 2055.270580728718, 5557.624355963768, 3502.8399210887883, 1454.4569312736971, 3059.3162841263775, 2752.7274494691515, 4345.3832985021445, 2121.932543949322, 3790.2684490201586, 3284.5093021303096, 4206.940226819141, 4541.143454513907, 4396.6170016294245, 3272.6496723164273, 3369.2179381754986, 2160.330487234441, 1606.4161611763552, 2384.0033378205726, 5685.240683336221, 2782.3094234049395, 2411.278615213906, 2746.276993251903, 2265.334251146283, 2503.8029162782645, 1937.1120731893322, 3462.8919429517223, 2339.135178258781, 4807.39571962337, 2854.100802683649, 1481.9158150781889, 2318.4289392433125, 2425.811160049253, 2771.6347356006295, 5404.489739003489, 2805.2820984549403, 2884.3750336307235]
probabilities = [0.037953831275575944, 0.02261805318929011, 0.023526966715180175, 0.013525215587445683, 0.04633698891875837, 0.02009245062865106, 0.017026821151355565, 0.01845501722315901, 0.032222512742697274, 0.007477984967956375, 0.02749343161764206, 0.04199309411243768, 0.0380468711914177, 0.009872089579848198, 0.0350737474138737, 0.007096313075825256, 0.04010130923756983, 0.04210975598279487, 0.04218284503208625, 0.02450171348032859, 0.030516043190557673, 0.019397588757556594, 0.014983424315148541, 0.028282057270202055, 0.011253975717452014, 0.017994773942919706, 0.03633850675349348, 0.04346158966781544, 0.02813986854143713, 0.03741239703435428, 0.04895862361445524, 0.0033795169481523057, 0.005894216972863964, 0.04724168761662462, 0.03549855151490722, 0.03282444258951811, 0.020044492770936118, 0.04167327406391308, 0.01063559703135819, 0.031570012482080245, 0.008971276033055031, 0.021702598909650428, 0.023288934087590585, 0.02840087773288169, 0.0392215566744486, 0.018737280137311907, 0.032302593321415274, 0.03194753249146087, 0.009359426520916592, 0.0345819663410214, 0.034332586607398574, 0.014934239493877621, 0.01031887141703658, 0.026309131421171417, 0.010720117365256354, 0.029571849002815842, 0.03581857786916509, 0.04232976630489149, 0.009765616804627064, 0.011658420413585113, 0.02992406305546591, 0.04423697809060567, 0.0238747161457199, 0.04103343642511981, 0.03553295194604422, 0.04447300057802572, 0.015765946517114382, 0.03193269945486621, 0.020765312682672343, 0.036305620984004805, 0.0013563811944313775, 0.03201108267411312, 0.009939290748963714, 0.024087285662302893, 0.008954301193233594, 0.034450357638033724, 0.04553271707546547, 0.040178750475493685, 0.015213594523907248, 0.021362371662315804, 0.04732722514626331, 0.01296834552132664, 0.0288366880370311, 0.027950162515665178, 0.023618200936586398, 0.034552713561246784, 0.02623532981610821, 0.04476512732674909, 0.009876271073931187, 0.008415369766280767, 0.032937563244055834, 0.03407324997996952, 0.03918194425926225, 0.04829394931925768, 0.04617707541955174, 0.00539441499997706, 0.018304936639873204, 0.04874224844425812, 0.018374641320549, 0.009957161018402383, 0.0019978786511197777, 0.033434469157958446, 0.03588551234595272, 0.017993234954017723, 0.041232695403949915, 0.01657239725937365, 0.002971247351082562, 0.02641056112366713, 0.017275062736321067, 0.0006919412386040547, 0.028329911189441503, 0.020320164243665007, 0.013462893296569689, 0.02606193957600167, 0.02682023825897062, 0.014510013525853127, 0.013498608654227695, 0.0016720765141532423, 0.036222819495414615, 0.001977960238674803, 0.019427782607235655, 0.0012412354315091134, 0.031731560028408046, 0.0022627735856096676, 0.019285943676057737, 0.019196731979821413, 0.02061083616653281, 0.010909696574221917, 0.027863296401839932, 0.033704531896048495, 0.031347814495013004, 0.04711721728434026, 0.013446741770866133, 0.043287154570825104, 0.041910638944280376, 0.010032831695924505, 0.04625281173842222, 0.020721279255224823, 0.010761812741891585, 0.025867161552533657, 0.022228286550174725, 0.003121074089912579, 0.02180649696105097, 0.042299946076091555, 0.021817041786435842, 0.029100261399181426, 0.048981351946633556, 0.04263213520060072, 0.029525590042990157, 0.0465071461240395, 0.028293180658668815, 0.03197539152559825, 0.02463402033587514, 0.01915294938650114, 0.009394396892777435, 0.03031187386738543, 0.00810444290601453, 0.03726230035608402, 0.019643063876131683, 0.02588410447399936, 0.013717441541317155, 0.03896799195944267, 0.02370673973862314, 0.019110156709760018, 0.034510510332185884, 0.04798451138059434, 0.008743471914540724, 0.019752059451052184, 0.010684892681262714, 0.04749814530545293, 0.0061972979037348, 0.0029667658818209874, 0.015649187958185706, 0.014011979516039386, 0.01487084763771862, 0.032077643118767596, 0.01566358954052438, 0.002956607287893376, 0.03341311388524992, 0.04018065728254627, 0.020895253783351886, 0.039579662353523504, 0.03722026109477361, 0.04772928865529158, 0.031037921198178386, 0.0002994253771443356, 0.0013639136204937063, 0.029275010939474155, 0.02904840115448648, 0.004907218711632355, 0.0017473135394943107, 0.0030236262745581, 0.029432417261936905, 0.02666767323730268, 0.032554544658212614, 0.04102732441750334, 0.04642684515908935, 0.016161031401088044, 0.020586845094321182, 0.011762403529808951, 0.016462180524201342, 0.02752924985698435, 0.011956519195162607, 0.04070293830218641, 0.011230038568706857, 0.04097108270651728, 0.03501710738327524, 0.02752051307765635, 0.003643625788746885, 0.0403030285068694, 0.011671321464361117, 0.04656713691285752, 0.012836116000919717, 0.012533903260072532, 0.025015609399703043, 0.031405554093234755, 0.03609459830151862, 0.001358054700013267, 0.03803745505222478, 0.02028334018735134, 0.0020373735272635196, 0.04254265381459432, 0.010513411775502024, 0.010924750058071808, 0.02712028374149078, 0.033689846933656176, 0.03462357268410787, 0.031778346174420324, 0.043467032184092425, 0.011016273780890762, 0.014487857889988187, 0.04593738930141489, 0.03527402449980033, 0.023402540796578553, 0.032486976250610144, 0.010560825356038306, 0.03864845386415816, 0.0071915827339198435, 0.03138343293158086, 0.024493237412591906, 0.023988064397495457, 0.02756321020484398, 0.015886213518406467, 0.03496137144250289, 0.013501931025405423, 0.00848561883332899, 0.015373607219089092, 0.001438911381443475, 0.04895925270996182, 0.039875608248659544, 0.019580688266912172, 0.02969003198601594, 0.0042416396652026345, 0.024045859584247986, 0.00033023580762447935, 0.04096894183450528, 0.04064079295901346, 0.036335816203184046, 0.03954530075712337, 0.04149093614963739, 0.011718318460453125, 0.0028178375523293386, 0.029870350247992117, 0.0324445226398814, 0.03811733371746273, 0.048038861368053354, 0.007014331412083852, 0.00028417091716770315, 0.04132142559388563, 0.0003265220288384274, 0.043463696833009435, 0.03562589106501646, 0.04521535300607171, 0.02531430090971387, 0.011611724857081507, 0.014192475843634034, 0.009168410825563522, 0.03988943690251945, 0.039824906512267, 0.03311839491482205, 0.02790287244345413, 0.008869664417094802, 0.02391140947056214, 0.0025450769555572794, 0.04215690920673043, 0.029102869680422527, 0.009051018723769677, 0.018316178717975307, 0.028671228437657015, 0.044140104147414205, 0.01603480686958192, 0.029573797173962912, 0.011464103058789865, 0.036217778242764176, 0.043336405173383885, 0.015387869399186571, 0.012697187048664071, 0.030556893204991997, 0.027558412533252308, 0.004281760005952706, 0.011144298489623616, 0.010351187705362475, 0.026279286809629543, 0.010139788442665498, 0.02131902654812834, 0.03619963433243778, 0.01897471072018153, 0.00674355346620692, 0.03393699728430655, 0.028302058505244032, 0.01785120396603901, 0.038686631417470974, 0.04744155527456928, 0.028537269839016055, 0.009156605979181442, 0.01709109500660899, 0.03544198963570255, 0.04683270502149395, 0.007905996478474897, 0.0048892040186657715, 0.02298944464307795, 0.03720385829268691, 0.004051162431001676, 0.009118104278140748, 0.02143508940453409, 0.008969351817385118, 0.04233027161404912, 0.029104924334799498, 0.021535224198322878, 0.04867397017393815, 0.024146267473479366, 0.015150687438415522, 0.016655379741599252, 0.03194272262104736, 0.04258636357453249, 0.03735349894842688, 0.001715634845000924, 0.040694974019676255, 0.02974522783005018, 0.03859821563878074, 0.0022287194285655065, 0.035197395876983006, 0.016191504316021677, 0.03201715314384335, 0.004565034872511808, 0.019205187219130115, 0.03682241178920087, 0.033367443148442866, 0.035143493370904944, 0.01909735228349485, 0.02637124037907368, 0.03134378213864786, 0.02794633856200257, 0.042405920654700724, 0.025240284349880127, 0.018471073654336978, 0.026191397103982883, 0.03559312822136218, 0.03535761667338688, 0.006097934913263825, 0.012538166101574877, 0.03091133412368341, 0.04781882907382029, 0.0007813494111483799, 0.03195128328430841, 0.03858657180550307, 0.024061497897941653, 0.04837993381480843, 0.03510186801775883, 0.008020158817054202, 0.038822404843382396, 0.006890466496499936, 0.03727124921572744, 0.025831766716283622, 0.0466043417832126, 0.028410956250219832, 0.047363975801815394, 0.020523293153864475, 0.017424162871546578, 0.015746424801156622, 0.04366123682547096, 0.0453414293436083, 0.020158904032707148, 0.04230353036242107, 0.015225413640508445, 0.04150372224808829, 0.001019685021396488, 0.0028723838276388802, 0.0411247317175073, 0.04276903878571148, 0.04164115611930996, 0.028839264720438518, 0.03820922690247375, 0.03865321223102858, 0.03023462842061042, 0.006014874589166719, 0.020960199444433614, 0.045058434588069796, 0.01912705202784004, 0.012428293604478613, 0.04132844784324874, 0.006093073020298934, 0.015091474472586075, 0.029121715030718587, 0.020969120084716186, 0.03024708289242517, 0.03136241703358966, 0.036208199769704574, 0.03391699263301762, 0.012518014222592688, 0.02316502902511619, 0.020777225624955098, 0.002452117274491683, 0.014635555724046512, 0.04138550664667873, 0.03458515278399377, 0.03484221361574513, 0.009937957938075503, 0.025469788091622148, 0.040819309846145346, 0.0023869097845440335, 0.03049774347064771, 0.024995715016706166, 0.002147893663978273, 0.02736714946899177, 0.029638144157245416, 0.0150225223145114, 0.029801866259955734, 0.046353688906875634, 0.006864953143107311, 0.01243080218238668, 0.04674009111233124, 0.011911840089907866, 0.001827712861809383, 0.02221932110850733, 0.01431087464067926, 0.02017340313137539, 0.02801365761540686, 0.03333861184453901, 0.03454157870038732, 0.015817552269587365, 0.04213995076071475, 0.014390702005744771, 0.032787660576111044, 0.04331791139040142, 0.041338191606353436, 0.033992198788676986, 0.025442752479552078, 0.046949018545935695, 0.03553189395623524, 0.01285368354511185, 0.023066512432653452, 0.029894370446990948, 0.03232384138741018, 0.03729075929102943, 0.04078791276989402, 0.016876209514787188, 0.04247097784274223, 0.032413468800975176, 0.025033736309703847, 0.012189546110301874, 0.013867982475578633, 0.03207355291254166, 0.014932253794849415, 0.03885914245854405, 0.01723977641721741, 0.007559830527151701, 0.02565342057843434, 0.04598309718653437, 0.0482709651084281, 0.01617904243734236, 0.002203651997149003, 0.014287050149888514, 0.03299044318707567, 0.018519117446273325, 0.028338438546713807, 0.041157076507017276, 0.03919986514129392, 0.021918785468062807, 0.02335443440713647, 0.03761130959216796, 0.0361014303079914, 0.0068386734779039005, 0.027321951372225484, 0.01409099657189683, 0.040582055596817046, 0.02554871564445027, 0.033193727282841645, 0.01733847687835144, 0.03948923534066928]

# Create KDE plot
kde = np.random.normal(loc=0, scale=1, size=1000)
fig = go.Figure(data=go.Kde(x=simulated_inherent_losses))

# Update layout and axis labels
fig.update_layout(
    title="Distribution Curve",
    xaxis_title="Values",
    yaxis_title="Density"
)

# Show the plot
fig.show()